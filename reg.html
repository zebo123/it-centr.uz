<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>IT-CENTR</title>

    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js"></script>
    <script type="text/javascript" src="./Reg/jQuery 3.3.1.js"></script>
    <script type="text/javascript" src="./Reg/plug.js"></script>
    <script type="text/javascript" src="./Reg/bootstrap.bundle.js"></script>
    <script type="text/javascript" src="./Reg/myplugins.js"></script>
    <script type="text/javascript" src="./Reg/wow.min.js"></script>
    <script>new WOW().init();</script>
    <link href="./Reg/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="./Reg/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="./Reg/style.css" rel="stylesheet" type="text/css">
    <link href="./Reg/animate.min.css" rel="stylesheet" type="text/css">
    <link rel="icon" href="" type="image/x-icon"> 
    <link rel="shortcut icon" href="" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        /* –í—Å–µ –≤–∞—à–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
        /* –î–æ–±–∞–≤–∏–º —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –∏ –ø–æ–ª–µ–π */
        
        .new_bg_1{background: #120A05;padding-top: 0px;min-height: 20px;font-size: 12px;margin-top: 0px;text-align: center;}
        .new_bg_1 a {margin: 10px;color: #ffffff;text-decoration: none;border-radius: 5px;transition: color 0.3s ease, transform 0.3s ease, text-shadow 0.3s ease;}
        .new_bg_1 a:hover {transform: scale(1.05);text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);}
        .new_bg_2 {display: inline-block;background: linear-gradient(to right, #071B2C, #0E3E5C, #071B2C);min-height: 30px;padding: 10px;border-bottom: 2px solid #114363;color: white;text-align: center;font-weight: bold;}
        .new_bg_2_logo{float: left;vertical-align: middle;}
        .new_bg_2_logo img{width: 200px;vertical-align: middle;display: inline-block;}
        .new_bg_2_href{display: inline-block;width: 50%;min-width: 300px;text-align: center;vertical-align: middle;}
        .new_bg_2_href a {font-size: 18px;font-weight: bold;margin-right: 5%;color: white;text-decoration: none;text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);transition: color 0.3s ease, text-shadow 0.3s ease;}
        .new_bg_2_href a:hover {color: #FFD700;text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);}
        .new_bg_2_enter{display: inline-block;float: right;vertical-align: middle;}
        .i_button_1 {padding: 10px 20px;margin: 0 5px;color: #ffffff;background-color: #DAA520;border: none;border-radius: 5px;font-size: 16px;cursor: pointer;box-shadow: 0 0 5px 2px rgba(218, 165, 32, 0.4);transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;}
        .i_button_1:hover {background-color: #B8860B;transform: scale(1.05);box-shadow: 0 0 10px 3px rgba(218, 165, 32, 0.6);}
        .i_button_2 {padding: 10px 20px;margin: 5px;color: black;background-color: #FFCC33;border: none;border-radius: 5px;font-size: 18px;cursor: pointer;box-shadow: 0 0 5px rgba(255, 204, 51, 0.6);transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;}
        .i_button_2:hover {background-color: #FFC107;transform: scale(1.05);box-shadow: 0 0 10px rgba(255, 193, 7, 0.8);}
        .f_block{display: inline-block;width: 30%;min-width: 300px;text-align: left;}
        @media (max-width: 780px) {
            .new_bg_2_logo {float: none;display: block;}
            .new_bg_2_href {width: 100%;margin: 10px 0;float: none;display: block;}
            .new_bg_2_href a{display: block;margin: 0;}	
            .new_bg_2_enter {float: none;display: block;margin-bottom: 10px;}
        }	
        @media (max-width: 1000px) {
            .f_block{float: left;text-align: center;display: block;width: 100%;}
        }
        .new_bg_3 {background-image: url('img/i_bg_1.jpg');background-size: cover;background-position: center;background-repeat: no-repeat;min-height: 500px;font-size: 14px;padding: 40px 0 20px 0;text-align: center;}
        .new_bg_4_0{background-image: url('img/i_bg_2.jpg');background-size: cover;background-position: center;background-repeat: no-repeat;min-height: 200px;font-size: 14px;padding: 20px 0 20px 0;text-align: center;}
        .new_bg_4 {background: linear-gradient(to bottom, rgba(0, 0, 51, 0.8), rgba(0, 0, 102, 0.8)), url('img/i_bg_3.jpg');background-size: cover;background-position: center;background-repeat: no-repeat;min-height: 500px;font-size: 14px;padding: 20px 0;text-align: center;}
        .new_bg_5 {background: linear-gradient(to right, rgba(0, 0, 51, 0.9), rgba(0, 0, 102, 0.8), rgba(0, 0, 51, 0.9));min-height: 200px;font-size: 14px;padding: 20px 0;text-align: center;}
        .new_bg_6 {background: black;min-height: 20px;font-size: 14px;padding: 20px 0 0 0;text-align: center;}
        .new_bg_7 {background: linear-gradient(to right, rgba(0, 0, 30, 1), rgba(0, 0, 90, 0.8), rgba(0, 0, 30, 1));margin-bottom: -50px;min-height: 200px;font-size: 14px;padding: 20px 0;text-align: left;}	
        .new_bg_8 {background: linear-gradient(to right, rgba(0, 0, 30, 1), rgba(0, 0, 90, 0.8), rgba(0, 0, 30, 1));min-height: 300px;font-size: 14px;padding: 20px 0;text-align: left;color: white;}	
        .centered-text {font-size: 26px;color: #FFCC33;font-weight: bold;text-align: center;position: relative;display: inline-block;}
        .centered-text::before, .centered-text::after {content: "";position: absolute;top: 50%;width: 50px;height: 2px;background-color: #FFCC33;box-shadow: 0 0 8px rgba(255, 204, 51, 0.6);}
        .centered-text::before {left: -60px;}
        .centered-text::after {right: -60px;}
        .f_href:hover{color: #FFD700;text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);}	
        .i_hov:hover {color: #39A6BC;text-shadow: 0 0 10px #39A6BC;}
        .st_1{font-size: 16px;margin: 10px 0;color: #F7F7F7;}
        .st_2{font-size: 18px;font-weight: bold;margin: 10px 0;color: #39A6BC;}	
        .eye-icon {position: absolute;right: 100px;top: 182px;cursor: pointer;font-size: 30px;z-index: 2;color: white;}
        .eye-icon img {width: 30px;height: 30px;} 
        .aaa_1 {color: black;display: inline-block;margin: 5px 10px;margin-left: 0px;width: 300px;padding: 5px;font-size: 16px;border-radius: 5px;border: 1px solid #ccc;transition: box-shadow 0.3s ease, border-color 0.3s ease;}
        .aaa_1:focus {border-color: #39A6BC;box-shadow: 0 0 10px #39A6BC;outline: none;}
        .aaa_2 {padding: 5px 20px;display: inline-block;margin: 5px 10px;margin-left: 0px;width: 300px;color: black;background-color: #FFCC33;border: none;border-radius: 5px;font-size: 18px;cursor: pointer;box-shadow: 0 0 5px rgba(255, 204, 51, 0.6);transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;}
        .aaa_2:hover {background-color: #FFC107;transform: scale(1.05);box-shadow: 0 0 10px rgba(255, 193, 7, 0.8);}
        .password-container {position: relative;display: inline-block;width: 300px;}
        .password-container input {width: 100%;padding-right: 40px;}
        
        /* –ù–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–∫–æ–Ω–æ–∫ */
        .card-icon::before {
            content: "üí≥";
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
            font-size: 18px;
        }
        .phone-icon::before {
            content: "üì±";
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 2;
            font-size: 18px;
        }
        .icon-input {
            padding-left: 40px !important;
        }
    </style>
</head>

<body style="black;padding-top: 0px;">
<header>
    <div class="container-fluid new_bg_2">
        <div class="container">
            <div class="row" style="padding: 10px 0 0 0;">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 ">	
                    <div class="new_bg_2_logo"></div>
                    <div class="new_bg_2_enter">	 
                        <a class=" fa fa-user  i_button_2" aria-hidden="true" href="./Login.html"> Kirish</a>
                    </div>
                </div>	
            </div>	
        </div>
    </div>
</header>

<div class="container-fluid new_bg_8" style="text-align: center;min-height: 400px;">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div style="font-size: 20px; padding: 20px 30px; background: rgba(2, 37, 91, 0.6); border-radius: 20px; text-align: center; box-shadow: 0 0 15px rgba(2, 150, 255, 0.8); margin-bottom: 20px; margin-top: 30px;width: 350px;display: inline-block;">
                    <h2 style="margin-bottom: 20px; font-size: 30px; font-weight: bold; color: #FFCC33; text-shadow: 0 0 10px #FFCC33;">RO'YXATDAN O'TISH</h2>
                    
                    <div style="color: #FF9933; font-size:18px">
                        USTOZINGIZ: <br>
                        <span id="mentorLogin" style="color: #FF9933; font-size:22px">USTOZ TANLANMAGAN</span>
                        <input type="hidden" id="mentor" name="mentor">
                    </div>
                    
                    <form onsubmit="return registerUser(event)">
                        <!-- –ü–æ–ª–µ –ª–æ–≥–∏–Ω–∞ -->
                        <div style="position: relative; display: inline-block;">
                            <input class="aaa_1" type="text" id="regLogin" placeholder="Login *" required>
                        </div>
                        
                        <!-- –ü–æ–ª–µ –ø–∞—Ä–æ–ª—è -->
                        <div style="position: relative; display: inline-block;">
                            <input class="aaa_1" type="password" id="regPassword" placeholder="Parol *" required>
                        </div>
                        
                        <!-- –ü–æ–ª–µ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã —Å –∏–∫–æ–Ω–∫–æ–π -->
                        <div style="position: relative; display: inline-block;" class="card-icon">
                            <input class="aaa_1 icon-input" type="text" id="regCardNumber" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã *" required>
                        </div>
                        
                        <!-- –ü–æ–ª–µ –∏–º–µ–Ω–∏ -->
                        <div style="position: relative; display: inline-block;">
                            <input class="aaa_1" type="text" name="name" placeholder="Ism *" required>
                        </div>
                        
                        <!-- –ü–æ–ª–µ —Ñ–∞–º–∏–ª–∏–∏ -->
                        <div style="position: relative; display: inline-block;">
                            <input class="aaa_1" type="text" name="surname" placeholder="Familiya *" required>
                        </div>
                        
                        <!-- –ü–æ–ª–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å –∏–∫–æ–Ω–∫–æ–π -->
                        <div style="position: relative; display: inline-block;" class="phone-icon">
                            <input class="aaa_1 icon-input" type="tel" name="phone" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ *" required>
                        </div>
                        
                        <!-- –ö–∞–ø—á–∞ -->
                        <input type="hidden" id="captchaReal" style="background: #1A1A1A;margin-left: 0px;border: 1px solid #6D6B6B;" value="8784">
                        <input class="captcha2" type="button" value=" 8784" onclick="showCaptcha()">
                        <input class="captcha1" type="text" name="captcha" placeholder="Rakamni kiriting *" required>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                        <input class="aaa_2" type="submit" value="Ro'yxatdan o'tish">
                    </form>		
                </div>
            </div>
        </div>
    </div>	
</div>

<footer>
    <div class="container-fluid new_bg_6">
        <div class="container">	
            <div class="row" style="padding: 0px 0 0 0;">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 " style="padding: 0 20px; margin-bottom: 20px;text-align: center;"></div>
            </div>
        </div>
    </div>
</footer>

<script>
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã
    document.getElementById('regCardNumber').addEventListener('input', function(e) {
        // –£–¥–∞–ª—è–µ–º –≤—Å–µ –Ω–µ—Ü–∏—Ñ—Ä–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã
        this.value = this.value.replace(/\D/g, '');
        
        // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–±–µ–ª—ã –∫–∞–∂–¥—ã–µ 4 —Ü–∏—Ñ—Ä—ã
        if (this.value.length > 4) {
            this.value = this.value.match(/.{1,4}/g).join(' ');
        }
        
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É (16 —Ü–∏—Ñ—Ä + 3 –ø—Ä–æ–±–µ–ª–∞)
        if (this.value.length > 19) {
            this.value = this.value.substring(0, 19);
        }
    });

    // –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    document.querySelector('[name="phone"]').addEventListener('input', function(e) {
        // –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ —Å–∏–º–≤–æ–ª +
        this.value = this.value.replace(/[^\d+]/g, '');
        
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É
        if (this.value.length > 15) {
            this.value = this.value.substring(0, 15);
        }
    });

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    function registerUser(e) {
        e.preventDefault();
        
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã
        const login = document.getElementById('regLogin').value;
        const password = document.getElementById('regPassword').value;
        const cardNumber = document.getElementById('regCardNumber').value;
        const name = document.querySelector('[name="name"]').value;
        const surname = document.querySelector('[name="surname"]').value;
        const phone = document.querySelector('[name="phone"]').value;
        const mentor = document.getElementById('mentor').value;
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 16 —Ü–∏—Ñ—Ä –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
        const cleanCardNumber = cardNumber.replace(/\s/g, '');
        if (cleanCardNumber.length !== 16) {
            alert('–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å 16 —Ü–∏—Ñ—Ä!');
            return false;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–º–∏–Ω–∏–º—É–º 9 —Ü–∏—Ñ—Ä)
        const cleanPhone = phone.replace(/[^\d]/g, '');
        if (cleanPhone.length < 9) {
            alert('–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 9 —Ü–∏—Ñ—Ä!');
            return false;
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ ID
        const userId = Date.now().toString();
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        if (localStorage.getItem(login)) {
            alert('–≠—Ç–æ—Ç –ª–æ–≥–∏–Ω —É–∂–µ –∑–∞–Ω—è—Ç! –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π.');
            return false;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        const userData = {
            login,
            password,
            cardNumber: cleanCardNumber, // –°–æ—Ö—Ä–∞–Ω—è–µ–º –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤
            phone,
            name,
            surname,
            mentor,
            userId,
            balance: 0,
            avatar: './Foto/88.JPG',
            referrals: []
        };
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
        if (mentor) {
            const mentorData = JSON.parse(localStorage.getItem(mentor));
            if (mentorData) {
                mentorData.referrals.push({
                    login: login,
                    userId: userId,
                    avatar: './Foto/88.JPG'
                });
                localStorage.setItem(mentor, JSON.stringify(mentorData));
            }
        }
        
        localStorage.setItem(login, JSON.stringify(userData));
        alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É.');
        window.location.href = 'login.html';
        return false;
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –∏–∑ URL
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const refLogin = urlParams.get('ref');
        
        if (refLogin) {
            document.getElementById('mentorLogin').textContent = refLogin;
            document.getElementById('mentor').value = refLogin;
        }
    });

    // –§—É–Ω–∫—Ü–∏—è –∫–∞–ø—á–∏ (–∑–∞–≥–ª—É—à–∫–∞)
    function showCaptcha() {
        // –í–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞–ø—á–∏
    }
</script>
</body>
</html>